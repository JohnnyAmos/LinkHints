<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>vertical area-decimals</title>
    <style>
      #list {
        display: flex;
        flex-direction: column;
        height: 900px;
      }

      #list > * {
        flex: 1;
        display: flex;
        justify-content: center;
        align-items: center;
        background-color: #eee;
      }

      #list > *:nth-child(even) {
        background-color: #ddd;
      }
    </style>
  </head>
  <body>
    <p>
      All boxes are supposed to have the same area but differ ever so slightly:
    </p>
    <pre id="pre"></pre>
    <div id="list">
      <a href="#">link</a>
      <a href="#">link</a>
      <a href="#">link</a>
      <a href="#">link</a>
      <a href="#">link</a>
      <a href="#">link</a>
      <a href="#">link</a>
      <a href="#">link</a>
      <a href="#">link</a>
      <a href="#">link</a>
      <a href="#">link</a>
      <a href="#">link</a>
      <a href="#">link</a>
      <a href="#">link</a>
      <a href="#">link</a>
      <a href="#">link</a>
      <a href="#">link</a>
      <a href="#">link</a>
      <a href="#">link</a>
      <a href="#">link</a>
      <a href="#">link</a>
      <a href="#">link</a>
      <a href="#">link</a>
      <a href="#">link</a>
      <a href="#">link</a>
      <a href="#">link</a>
    </div>
    <script>
      const rects = Array.from(list.querySelectorAll("a"), a =>
        a.getBoundingClientRect()
      );
      const areas = new Set(rects.map(rect => rect.width * rect.height));
      const widths = new Set(rects.map(rect => rect.width));
      const heights = new Set(rects.map(rect => rect.height));

      pre.textContent = JSON.stringify(
        {
          areas: Array.from(areas),
          widths: Array.from(widths),
          heights: Array.from(heights),
        },
        undefined,
        2
      );

      function area(element) {
        const rect = element.getBoundingClientRect();
        return rect.width * rect.height;
      }
    </script>
  </body>
</html>
