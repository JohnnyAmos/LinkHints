<!DOCTYPE html>
<html lang="en" onclick="console.log('html click tracking...')">
  <head>
    <meta charset="utf-8">
    <title>changing onclick</title>
  </head>
  <body onclick="console.log('body click tracking...')">
    <p onclick="console.log('onclick=&quot;...&quot;')">onclick="..."</p>
    <script>
      {
        const p = document.createElement("p");
        p.textContent = ".onclick = ...";
        p.onclick = () => console.log('.onclick = ...');
        document.currentScript.replaceWith(p);
      }
    </script>
    <script>
      {
        const p = document.createElement("p");
        p.textContent = `.addEventListener("click", ...)`;
        p.addEventListener("click", () => console.log('.addEventListener("click", ...)'));
        document.currentScript.replaceWith(p);
      }
    </script>

    <hr>

    <p id="p">click me (<button onclick="document.documentElement.onclick = null; document.body.onclick = null">remove tracking</button>)</p>
    <p>
      <button onclick="p.setAttribute('onclick', 'console.log(`onclick=&quot;...&quot;`)')">set onclick="..."</button>
      <button onclick="p.removeAttribute('onclick')">remove onclick="..."</button>
    </p>
    <p>
      <button onclick="p.onclick = () => console.log(`onclick=&quot;...&quot;`)">.onclick = () => ...</button>
      <button onclick="p.onclick = null">.onclick = null</button>
      <button onclick="p.onclick = new Date">.onclick = new Date</button>
    </p>
    <script>
      function f() {
        console.log('.addEventListener("click", f)');
      }
      function g() {
        console.log('.addEventListener("click", g)');
      }
      const handleEvent = {
        handleEvent() {
          console.log('.addEventListener("click", {handleEvent() {...}})')
        }
      };
      const date = new Date();
      date.capture = false;
    </script>
    <p>
      <button onclick="p.addEventListener('click', f)">.addEventListener("click", f)</button>
      <button onclick="p.addEventListener('focus', () => console.log('focus'))">.addEventListener("focus", () => ...)</button>
      <button onclick="p.addEventListener('click', handleEvent)">.addEventListener("click", {handleEvent() {...}})</button>
    </p>
    <p>
      <button onclick="p.removeEventListener('click', f)">.removeEventListener("click", f)</button>
      <button onclick="p.removeEventListener('focus', () => console.log('focus'))">.removeEventListener("focus", () => ...)</button>
      <button onclick="p.removeEventListener('click', handleEvent)">.removeEventListener("click", {handleEvent() {...}})</button>
    </p>
    <p>
      <button onclick="p.addEventListener('click', f, true)">.addEventListener("click", f, true)</button>
      <button onclick="p.addEventListener('click', f, {capture: false, passive: true})">.addEventListener("click", f, {capture: false, passive: true})</button>
      <button onclick="p.addEventListener('click', f, date)">.addEventListener("click", f, date)</button>
    </p>
    <p>
      <button onclick="p.removeEventListener('click', f, {capture: true, passive: false})">.removeEventListener("click", f, {capture: true, passive: false})</button>
      <button onclick="p.removeEventListener('click', f, {capture: false, passive: true})">.removeEventListener("click", f, {passive: true})</button>
      <button onclick="p.removeEventListener('click', f, date)">.removeEventListener("click", f, false)</button>
    </p>
    <p>
      <button onclick="p.addEventListener('click', g)">p.addEventListener("click", g)</button>
      <button onclick="p.removeEventListener('click', g, false)">p.removeEventListener("click", g, false)</button>
    </p>
    <p>
      <button onclick="p.setAttribute('role', 'button')">set role="button"</button>
      <button onclick="p.removeAttribute('role')">remove role="button"</button>
    </p>
  </body>
</html>
